<script type="text/stache" id="demo-html">
    <h1>List Table Demo</h1>
    <list-table {^selected-objects}="selectedObjects" {objects}="data" (hello)="sayHello" {buttons}="buttons" (sort)="setSort" id-prop="name" />

    <p>You chose:
        {{#if selectedObjects.length}}
            {{#each selectedObjects}}
                {{name}},
            {{/each}}
        {{else}}
            No one
        {{/if}}
    </p>
</script>
<script src="../node_modules/steal/steal.js" main="@empty" id="demo-source">

    import 'font-awesome/css/font-awesome.min.css';
    import 'list-table/';

    //sorting plugin

    import DefineMap from 'can-define/map/map';
    import DefineList from 'can-define/list/list';
    import stache from 'can-stache';

    var render = stache(document.getElementById('demo-html').innerHTML);

    document.body.appendChild(render(
        new DefineMap({
            buttons: [{
                iconClass: 'fa fa-smile-o',
                eventName: 'hello',
                title: 'Say Hello'
            }],
            data: new DefineList([{
                name: 'Peter',
                age: 16,
                favorite_food: 'Pizza'
            }, {
                name: 'Phillip',
                age: 26,
                favorite_food: 'Pizza'
            }, {
                name: 'Todd',
                age: 150,
                favorite_food: 'Ice Cream'
            }, {
                name: 'Andy',
                age: 10,
                favorite_food: 'Pickles'
            }, {
                name: 'Andrew',
                age: 24,
                favorite_food: 'Spaghetti'
            }]),
            sayHello(a, b, c, obj) {
                alert(obj.name + ' says hello!');
            },
            setSort(a, b, c, sortInfo) {
                let field = sortInfo.fieldName;
                this.data.sort((a, b) => {
                    return sortInfo.type === 'asc' ?
                        //if ascending
                        (a[field] === b[field] ? 0 :
                            a[field] > b[field] ? 1 : -1) :
                        //if descending
                        (a[field] === b[field] ? 0 :
                            a[field] > b[field] ? -1 : 1);
                });
            }
        }), {}));
</script>
